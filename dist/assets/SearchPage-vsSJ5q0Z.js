import{k as j,r as o,j as e}from"./react-vendor-DTmObZUI.js";import{s as y,T as d,a as v,A as N}from"./index-D8ttx7vK.js";import{A as x}from"./ArticleCard-B_PTFJaN.js";import{f as m,X as A,a as w,m as C}from"./icons-CXA2BseQ.js";import"./services-DiamWyM_.js";function z(){const[u,a]=j(),t=u.get("q")||"",[l,r]=o.useState(t),[n,h]=o.useState("all"),[c,p]=o.useState("all"),i=(t?y(t):[]).filter(s=>{const b=n==="all"||s.categorySlug===n,f=c==="all"||(c==="free"?!s.isPremium:s.isPremium);return b&&f}),g=s=>{s.preventDefault(),l.trim()&&a({q:l.trim()})};return o.useEffect(()=>{r(t)},[t]),e.jsxs("div",{className:"min-h-screen bg-[#F7F8FA]",children:[e.jsx("div",{className:"bg-white border-b py-6 sm:py-8 px-4",style:{borderColor:"rgba(0,0,0,0.08)"},children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"relative",children:[e.jsx(m,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:s=>r(s.target.value),placeholder:"Rechercher des articles, analyses, auteurs...",className:"w-full pl-11 pr-12 py-3.5 text-sm border rounded-full bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#00A651]/30 focus:border-[#00A651] focus:bg-white",style:{borderColor:"rgba(0,0,0,0.15)"},autoFocus:!0}),l&&e.jsx("button",{type:"button",onClick:()=>{r(""),a({})},className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(A,{size:16})})]}),e.jsx("div",{className:"flex justify-center mt-3",children:e.jsx("button",{type:"submit",className:"px-8 py-2 text-sm text-white font-medium rounded-full transition hover:opacity-90",style:{background:"#C9A84C"},children:"Rechercher"})})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6",children:[!t&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-gray-900 font-semibold text-sm mb-3 flex items-center gap-2",children:[e.jsx(w,{size:14,className:"text-[#00A651]"})," Recherches populaires"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(s=>e.jsxs("button",{onClick:()=>{a({q:s}),r(s)},className:"px-3 py-1.5 text-xs text-gray-700 bg-white border border-black/[0.12] rounded-full transition-all hover:bg-[#00A651] hover:text-white hover:border-[#00A651]",children:["#",s]},s))})]}),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-3",children:[e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("span",{className:"font-bold text-gray-900",children:i.length})," résultat",i.length!==1?"s":""," pour"," ",e.jsxs("span",{className:"font-bold text-[#00A651]",children:['"',t,'"']})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(C,{size:14,className:"text-gray-400"}),e.jsxs("select",{value:n,onChange:s=>h(s.target.value),className:"text-xs border rounded-lg px-2.5 py-1.5 bg-white focus:outline-none focus:border-[#00A651]",style:{borderColor:"rgba(0,0,0,0.15)"},children:[e.jsx("option",{value:"all",children:"Toutes sections"}),v.map(s=>e.jsx("option",{value:s.slug,children:s.name},s.slug))]}),e.jsx("div",{className:"flex gap-1 p-1 bg-white rounded-lg border",style:{borderColor:"rgba(0,0,0,0.08)"},children:["all","free","premium"].map(s=>e.jsx("button",{onClick:()=>p(s),className:`px-3 py-1 text-xs rounded-md transition font-medium ${c===s?"text-white":"text-gray-500 hover:bg-gray-50"}`,style:c===s?{background:"#00A651"}:{},children:s==="all"?"Tous":s==="free"?"Gratuits":"Premium"},s))})]})]}),i.length>0?e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsx(x,{article:s,variant:"horizontal",showExcerpt:!0},s.id))}):e.jsxs("div",{className:"bg-white rounded-xl border p-12 text-center",style:{borderColor:"rgba(0,0,0,0.08)"},children:[e.jsx(m,{size:40,className:"text-gray-200 mx-auto mb-4"}),e.jsx("h3",{className:"text-gray-900 font-semibold mb-2",children:"Aucun résultat trouvé"}),e.jsxs("p",{className:"text-gray-500 text-sm mb-5",children:['Aucun article ne correspond à "',t,'" avec les filtres sélectionnés.']}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Suggestions :"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:d.slice(0,6).map(s=>e.jsxs("button",{onClick:()=>{a({q:s}),r(s)},className:"px-3 py-1 text-xs text-[#00A651] border border-[#00A651]/30 rounded-full hover:bg-[#00A651] hover:text-white transition-colors",children:["#",s]},s))})]})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[e.jsx("div",{className:"w-1 h-5 rounded-full bg-[#00A651]"}),e.jsx("h2",{className:"text-gray-900 font-bold text-lg",children:"Articles récents"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:N.slice(0,6).map(s=>e.jsx(x,{article:s,variant:"grid"},s.id))})]})]})]})}export{z as default};

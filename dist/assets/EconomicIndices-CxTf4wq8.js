import{r as g,j as e}from"./react-vendor-DTmObZUI.js";import{a as c,x as A,ad as C,ae as w,c as D}from"./icons-CXA2BseQ.js";import{R as E,L as k,C as z,X as F,Y as I,T as L,c as P,a as T}from"./charts-CxNNR8U_.js";const O="25 fév. 2026 — 09h00 (WAT)";function m(r,n,i,l=0){const x=[];let u=r;for(let h=0;h<i;h++)u+=(Math.random()-.5)*n+l,x.push(parseFloat(u.toFixed(2)));return x}function N(){return{inflation:{"1S":m(3.8,.15,7,.005),"1M":m(4,.12,30,-.008),"1A":[4.5,4.8,5.1,4.9,4.6,4.2,3.9,4.1,4.3,4,3.9,3.8]},riz:{"1S":m(440,4,7,.2),"1M":m(435,5,30,.3),"1A":[400,410,415,420,425,428,430,432,435,438,440,440]},mil:{"1S":m(200,3,7,.05),"1M":m(198,4,30,.2),"1A":[175,178,182,185,188,190,192,195,196,198,199,200]}}}const B=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],$=Array.from({length:30},(r,n)=>`J${n+1}`),R=["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],f=[{id:"inflation",label:"Inflation Niger",unit:"%",icon:c,color:"#E53E3E",current:3.8,prevMonth:4.1,series:{"1S":[],"1M":[],"1A":[4.5,4.8,5.1,4.9,4.6,4.2,3.9,4.1,4.3,4,3.9,3.8]},description:"Taux d'inflation annuel (INS Niger)"},{id:"essence",label:"Essence Super",unit:"FCFA/L",icon:c,color:"#F6AD55",current:499,prevMonth:499,series:{"1S":Array(7).fill(499),"1M":Array(30).fill(499),"1A":Array(12).fill(499)},description:"Prix à la pompe — SONIDEP Niamey"},{id:"gasoil",label:"Gasoil",unit:"FCFA/L",icon:c,color:"#ED8936",current:618,prevMonth:618,series:{"1S":Array(7).fill(618),"1M":Array(30).fill(618),"1A":Array(12).fill(618)},description:"Prix à la pompe — SONIDEP Niamey"},{id:"riz",label:"Riz importé (Niamey)",unit:"FCFA/kg",icon:c,color:"#00A651",current:440,prevMonth:438,series:{"1S":[],"1M":[],"1A":[400,410,415,420,425,428,430,432,435,438,440,440]},description:"Prix marché central — riz brisé importé"},{id:"mil",label:"Mil (Niamey)",unit:"FCFA/kg",icon:c,color:"#9F7AEA",current:200,prevMonth:198,series:{"1S":[],"1M":[],"1A":[175,178,182,185,188,190,192,195,196,198,199,200]},description:"Prix marché central"},{id:"bceao",label:"Taux directeur BCEAO",unit:"%",icon:A,color:"#0D1B35",current:3.5,prevMonth:3.5,series:{"1S":Array(7).fill(3.5),"1M":[4,4,4,4,4,4,4,3.75,3.75,3.75,3.75,3.75,3.75,3.75,3.75,3.75,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5],"1A":[4,4,4,3.75,3.75,3.75,3.75,3.5,3.5,3.5,3.5,3.5]},description:"Taux de politique monétaire BCEAO"}],J={"1S":B,"1M":$,"1A":R},K=({active:r,payload:n,label:i})=>r&&(n!=null&&n.length)?e.jsxs("div",{className:"bg-white border rounded-xl shadow-lg px-4 py-3 text-sm",style:{borderColor:"rgba(0,0,0,0.1)"},children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:i}),n.map(l=>e.jsxs("p",{style:{color:l.stroke},className:"font-semibold",children:[l.name,": ",l.value," ",l.unit]},l.dataKey))]}):null;function q(){const[r,n]=g.useState("1M"),[i,l]=g.useState(["inflation","bceao"]),[x,u]=g.useState(!1),[h,S]=g.useState(()=>N()),v=()=>S(N()),b=s=>{l(t=>t.includes(s)?t.length>1?t.filter(a=>a!==s):t:[...t,s])},M=g.useMemo(()=>J[r].map((t,a)=>{const d={label:t};return f.filter(o=>i.includes(o.id)).forEach(o=>{var j;const p=((j=h[o.id])==null?void 0:j[r])??o.series[r];d[o.id]=p[a]??p[p.length-1]}),d}),[r,i,h]),y=f.filter(s=>i.includes(s.id));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#00A651]/10 flex items-center justify-center",children:e.jsx(c,{size:20,className:"text-[#00A651]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[#0D1B35]",style:{fontSize:"1.4rem"},children:"Indices Économiques Niger"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["Mise à jour : ",O]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm border text-gray-600 hover:bg-gray-50 transition-all",style:{borderColor:"rgba(0,0,0,0.1)"},children:[e.jsx(C,{size:13})," Actualiser"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!x),className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm border text-gray-600 hover:bg-gray-50 transition-all",style:{borderColor:"rgba(0,0,0,0.1)"},children:[e.jsx(w,{size:13})," Indicateurs (",i.length,")"]}),x&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-xl shadow-xl border py-2 z-20",style:{borderColor:"rgba(0,0,0,0.1)"},children:[f.map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:"flex items-center justify-between w-full px-4 py-2.5 text-sm hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full",style:{background:s.color}}),e.jsx("span",{className:"text-gray-700",children:s.label})]}),i.includes(s.id)&&e.jsx(D,{size:14,className:"text-[#00A651]"})]},s.id)),e.jsx("button",{onClick:()=>u(!1),className:"w-full mt-1 px-4 py-2 text-xs text-center text-gray-400 hover:text-gray-600 border-t transition-colors",children:"Fermer"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:f.map(s=>{const t=s.current-s.prevMonth,a=t>0,d=t===0,o=a?c:A;return e.jsxs("button",{onClick:()=>b(s.id),className:`text-left rounded-2xl p-4 border transition-all ${i.includes(s.id)?"bg-white shadow-md":"bg-gray-50 opacity-60"}`,style:{borderColor:i.includes(s.id)?s.color+"44":"rgba(0,0,0,0.06)",borderLeftWidth:i.includes(s.id)?3:1,borderLeftColor:i.includes(s.id)?s.color:void 0},children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1 leading-tight",children:s.label}),e.jsxs("p",{className:"font-bold",style:{color:s.color,fontSize:"1.1rem"},children:[s.current," ",s.unit]}),e.jsxs("div",{className:`flex items-center gap-0.5 mt-1 ${d?"text-gray-400":a?"text-red-500":"text-green-600"}`,children:[!d&&e.jsx(o,{size:11}),e.jsx("span",{style:{fontSize:10},children:d?"Stable":`${a?"+":""}${t.toFixed(2)} ${s.unit}`})]}),e.jsx("p",{className:"text-gray-400 mt-1",style:{fontSize:10},children:s.description})]},s.id)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Période :"}),["1S","1M","1A"].map(s=>e.jsx("button",{onClick:()=>n(s),className:`px-4 py-1.5 rounded-full text-sm border transition-all ${r===s?"bg-[#0D1B35] text-white border-[#0D1B35]":"text-gray-600 border-gray-200 hover:border-gray-400"}`,children:s==="1S"?"1 semaine":s==="1M"?"1 mois":"1 an"},s))]}),e.jsxs("div",{className:"bg-white rounded-2xl border p-5",style:{borderColor:"rgba(0,0,0,0.06)"},children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[y.map(s=>s.label).join(" · ")," — Évolution sur ",r==="1S"?"1 semaine":r==="1M"?"1 mois":"1 an"]}),e.jsx(E,{width:"100%",height:280,children:e.jsxs(k,{data:M,children:[e.jsx(z,{strokeDasharray:"3 3",stroke:"#f5f5f5"}),e.jsx(F,{dataKey:"label",tick:{fontSize:10,fill:"#9CA3AF"},interval:r==="1M"?4:0}),e.jsx(I,{tick:{fontSize:10,fill:"#9CA3AF"},width:45}),e.jsx(L,{content:e.jsx(K,{})}),e.jsx(P,{iconType:"circle",iconSize:8,formatter:s=>{const t=f.find(a=>a.id===s);return e.jsx("span",{style:{fontSize:11,color:"#374151"},children:(t==null?void 0:t.label)??s})}}),y.map(s=>e.jsx(T,{type:"monotone",dataKey:s.id,name:s.id,stroke:s.color,strokeWidth:2,dot:!1,activeDot:{r:5},unit:s.unit},s.id))]})})]}),e.jsx("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:e.jsx("span",{children:"Sources : INS Niger, BCEAO, OPAM, SONIDEP — Données indicatives"})})]})}export{q as default};
